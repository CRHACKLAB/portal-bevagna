<!-- ZAPWORKS -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal</title>
    <!-- a-frame version -->
    <script src='https://aframe.io/releases/1.2.0/aframe.min.js'></script>
    <!-- zappar -->
    <script src="https://libs.zappar.com/zappar-aframe/2.2.2/zappar-aframe.js"></script>
    <!-- portal -->
    <script src="https://unpkg.com/aframe-image-portal@latest"></script>
    <!-- css -->
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
    <script type="module" src="./assets/js/index.js"></script>
    <a-scene>
        <a-assets>
            <a-asset-item id="portal" src="./assets/glb/piazzabevagna-portal.glb"></a-asset-item>
            <img id="sanPietro" src="./assets/img/gaite/sanPietro.png">
            <img id="sanGiorgio" src="./assets/img/gaite/sanGiorgio.jpeg">
            <img id="sanGiovanni" src="./assets/img/gaite/sanGiovanni.png">
            <img id="santaMaria" src="./assets/img/gaite/santaMaria.png">
            <img id="mercatoGaite" src="./assets/img/gaite/gaite.jpeg">
        </a-assets>

        <!-- Ask user for camera permissions -->
        <a-entity zappar-permissions-ui id="permissions"></a-entity>
        <!-- Browser Compatibility -->
        <a-entity zappar-compatibility-ui id="compatibility"></a-entity>
        <a-entity camera zappar-camera>
            <a-cursor></a-cursor>
        </a-entity>

        <a-entity zappar-instant="placement-mode: true" id="instant-group">

            <!-- PLACE 3D OBJECTS HERE TO TRACK FROM THE INSTANT ANCHOR -->
            <a-entity image-portal="src: #portal; autoReparent: true" position="0 0 -1"></a-entity>

                <!-- San Pietro -->
                <a-entity 
                    geometry="primitive: plane"
                    height="1" 
                    width="1" 
                    position="-2 2 -2" 
                    material="src: #sanPietro" 
                    rotation="20 50 0"
                    scale="1 1 1"
                    animation__mouseenter="property: scale; to: 2.5 2.5 2.5; startEvents: mouseenter; dur: 500"
                    animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 500"
                    >
                </a-entity>

                <!-- San Giorgio -->
                <a-entity 
                    geometry="primitive: plane"
                    height="1" 
                    width="1" 
                    position="2 2 -2" 
                    material="src: #sanGiorgio" 
                    rotation="20 -50 0"
                    scale="1 1 1"
                    animation__mouseenter="property: scale; to: 2.5 2.5 2.5; startEvents: mouseenter; dur: 500"
                    animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 500"
                    >
                </a-entity>
    
                <!-- San Giovanni -->
                <a-entity 
                    geometry="primitive: plane"
                    material="src: #sanGiovanni" 
                    height="1" 
                    width="1" 
                    position="-2 0 -2"
                    rotation="-20 50 0"
                    scale="1 1 1"
                    animation__mouseenter="property: scale; to: 2.5 2.5 2.5; startEvents: mouseenter; dur: 500"
                    animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 500"
                    >
                </a-entity>

                <!-- Santa Maria -->
                <a-entity 
                    geometry="primitive: plane"
                    material="src: #santaMaria" 
                    height="1" 
                    width="1" 
                    position="2 0 -2" 
                    rotation="-20 -50 0"
                    scale="1 1 1"
                    animation__mouseenter="property: scale; to: 2.5 2.5 2.5; startEvents: mouseenter; dur: 500"
                    animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 500"
                    >
                </a-entity>

                <!-- Gaite Centrale -->

                <!-- <a-entity image-portal="src: #mercato-portal; autoReparent: false" position="0 1.6 -9"></a-entity> -->

                <a-entity
                    geometry="primitive: plane"
                    height="1" 
                    width="1"
                    position="0 1 -3" 
                    material="src: #mercatoGaite"
                    scale="1 1 1"
                    animation__mouseenter="property: scale; to: 2.5 2.5 2.5; startEvents: mouseenter; dur: 500"
                    animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 500"
                    rotation="0 0 0"
                    >
                </a-entity>
        </a-entity>

    </a-scene>

    <div id="zappar-placement-ui">Tap here to place the object and please, move your device carefully</div>
</body>
</html>